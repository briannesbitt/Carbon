<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
        <title>Carbon - A simple PHP API extension for DateTime.</title>
        <meta name="description" content="Carbon - A simple PHP API extension for DateTime.">
        <link href='//fonts.googleapis.com/css?family=Open+Sans:400,300,600' rel='stylesheet' type='text/css'>
        <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/tomorrow-night.min.css">
        <link href="/carbon.css?v=2019-08-01-21-40" rel="stylesheet">
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r;
                i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
                a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0];
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-27020320-3', 'auto');
            ga('send', 'pageview');

        </script>
    </head>
    <body data-spy="scroll" data-target="#affix-nav">

    <div class="main-wrapper">
        <aside id="reference">
            <div class="search-wrapper">
                <div class="search-bar">
                    <div class="input-group">
                        <span class="input-group-addon">
                            <i class="glyphicon glyphicon-search"></i>
                        </span>
                        <input type="text" class="form-control" placeholder="Search" id="search-filter">
                    </div>
                    <button class="close">&lt;</button>
                </div>
                <div class="search"></div>
            </div>
        </aside>
        <section>
            <nav class="navbar navbar-default navbar-static-top">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                                aria-expanded="false" aria-controls="navbar">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="/"><img src="/logo.png" alt="Carbon" width="159" height="50"></a>
                    </div>
                    <div id="navbar" class="navbar-collapse collapse">
                        <ul class="nav navbar-nav">
                            <li><a href="/#gettingstarted">Getting Started</a></li>
                            <li><a href="/docs/">Docs</a></li>
                            <li><a href="#reference">Reference</a></li>
                            <li><a href="/history/">History</a></li>
                            <li><a href="/contribute/">Contribute</a></li>
                            <li><a href="//github.com/briannesbitt/carbon">GitHub</a></li>
                        </ul>
                    </div>
                </div>
            </nav>

            <div class="jumbotron">
    <div class="container">
        <h1>A simple PHP API extension for DateTime.</h1>
        <pre><code class="php">printf("Right now is %s", Carbon::now()->toDateTimeString());
printf("Right now in Vancouver is %s", Carbon::now('America/Vancouver')); // automatically converted to string
$tomorrow = Carbon::now()->addDay();
$lastWeek = Carbon::now()->subWeek();

// Carbon embed 823 languages:
echo $tomorrow->locale('fr')->isoFormat('dddd, MMMM Do YYYY, h:mm');
echo $tomorrow->locale('ar')->isoFormat('dddd, MMMM Do YYYY, h:mm');

$officialDate = Carbon::now()->toRfc2822String();

$howOldAmI = Carbon::createFromDate(1975, 5, 21)->age;

$noonTodayLondonTime = Carbon::createFromTime(12, 0, 0, 'Europe/London');

$internetWillBlowUpOn = Carbon::create(2038, 01, 19, 3, 14, 7, 'GMT');

if (Carbon::now()->isWeekend()) {
    echo 'Party!';
}
echo Carbon::now()->subMinutes(2)->diffForHumans(); // '2 minutes ago'

// Want to know more about diffForHumans? Double-click on the method name!
</code></pre>
    </div>
</div>


            <div class="container page">
                <div class="row">
                    <div class="col-md-12">
                        <a class="tidelift" href="https://tidelift.com/subscription/pkg/packagist-nesbot-carbon?utm_source=packagist-nesbot-carbon&utm_medium=referral&utm_campaign=docs" target="_blank">
    <img src="/tidelift.png">
    GET PROFESSIONAL SUPPORT FOR CARBON
</a>

<ul class="list-inline">
    <li><a href="https://packagist.org/packages/nesbot/carbon"><img src="https://img.shields.io/packagist/v/nesbot/carbon.svg?style=flat-square"></a></li>
    <li><a href="https://packagist.org/packages/nesbot/carbon"><img src="https://img.shields.io/packagist/dt/nesbot/carbon.svg?style=flat-square"></a></li>
    <li><a href="https://github.com/briannesbitt/Carbon/actions"><img src="https://img.shields.io/github/actions/workflow/status/briannesbitt/Carbon/tests.yml?style=flat-square"></a></li>
    <li><a href="https://styleci.io/repos/5724990"><img src="https://styleci.io/repos/5724990/shield?style=flat-square"></a></li>
    <li><a href="https://codecov.io/github/briannesbitt/Carbon?branch=master"><img src="https://img.shields.io/codecov/c/github/briannesbitt/Carbon.svg?style=flat-square"></a></li>
    <li><a href="https://github.com/phpstan/phpstan"><img src="https://img.shields.io/badge/PHPStan-enabled-44CC11.svg?longCache=true&style=flat-square"></a></li>
    <li><a href="https://tidelift.com/subscription/pkg/packagist-nesbot-carbon?utm_source=packagist-nesbot-carbon&utm_medium=referral&utm_campaign=readme"><img src="https://tidelift.com/badges/github/briannesbitt/Carbon"></a></li>
</ul>

<h1 id="gettingstarted">Getting Started</h1>

<p>1.x is compatible with PHP 5.3+.<br>2.x version requires PHP 7.1.8+.</p>

<h3>Installing</h3>
<p>The easiest and recommended method to install Carbon is via <a href="http://getcomposer.org/">composer</a>.</p>

<p>If you're using Laravel, Carbon is provided out of the box. You may now check
    <a href="/laravel">our Laravel configuration and best-practices recommendations</a>.</p>

<p>If you're using Symfony, you may check <a href="/symfony">our Symfony configuration and best-practices
    recommendations</a>.</p>

<div role="tabpanel">
    <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#withcomposer" role="tab" data-toggle="tab">With composer</a></li>
        <li role="presentation"><a href="#nocomposer" role="tab" data-toggle="tab">Direct download</a></li>
    </ul>

    <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="withcomposer">
            <p></p>
            <p>Use the following command to install with composer.</p>

            <p><pre><code>composer require nesbot/carbon</code></pre></p>

            <p>This will automatically get the latest version and configure a <code>composer.json</code> file.</p>

            <p><pre><code class="php">&lt;?php
require 'vendor/autoload.php';

use Carbon\Carbon;

printf("Now: %s", Carbon::now());</code></pre></p>

            <p>If you wish you can create the following <code>composer.json</code> file and run <code>composer install</code> to install it.</p>

            <p><pre><code class="js">{
    "require": {
        "nesbot/carbon": "^2.70.0"
    }
}</code></pre></p>

            <p>Carbon 2 is officially supported by Laravel since the version 5.8, if you want to use it on a lower version, you can follow those steps:</p>

            <p>Set explicitly the Carbon version and add the adapter in your <strong>composer.json</strong>:</p>

            <p><pre><code class="js">{
    "require": {
        "nesbot/carbon": "2.70.0 as 1.39.0"
        "kylekatarnls/laravel-carbon-2": "^1.0.0"
    }
}</code></pre></p>

            <p>Use 1.25.0 alias for Laravel 5.6, 1.39.0 for other versions as each version of Laravel has its own range of Carbon compatibility, you have to take 2.70.0
                as the real used version, then pick an alias among versions Laravel supports. You may have other dependencies with other Carbon restrictions. If so,
                we cannot ensure Carbon 2 will works with them as Carbon 1 did, but you can still try an other version alias. To be sure an alias will be compatible
                with all of your current dependencies, you can choose the version of Carbon you have before upgrading to Carbon 2 using <code>composer show nesbot/carbon</code>.</p>

            <p>Then update your dependencies by running.</p>

            <p><pre><code>$ composer update</code></pre></p>

        </div>
        <div role="tabpanel" class="tab-pane" id="nocomposer">
            <p></p>
            <p>Why are you not using <a href="http://getcomposer.org/">composer</a>?</p>
            <p>Download the last release (or any other you want) here: <a href="https://github.com/briannesbitt/Carbon/releases">releases</a>.</p>
            <p>Release package is the asset named <strong>Carbon-x.y.z.zip</strong> where <strong>x.y.z</strong> is the version number.</p>
            <p>Extract the zip in a directory in your project, then require the <strong>autoload.php</strong> file to make any Carbon class available:</p>

            <p><pre><code class="php">&lt;?php
require 'path/to/Carbon/autoload.php';

use Carbon\Carbon;
use Carbon\CarbonInterval;

printf("Now: %s", Carbon::now());

printf("1 day: %s", CarbonInterval::day()->forHumans());</code></pre></p>

            <p>Those packages contain <strong>symfony/translation</strong> to make <code>diffForHumans</code> method vailable in different languages.</p>
            <p>Install with composer is still a better option since it allows you to get the <strong>symfony/translation</strong> (and possible future dependencies) version that suit the best your PHP version and keep the whole think up-to-date via <code>composer update</code> command.</p>
        </div>
    </div>
</div>

<h3>Learn More</h3>
Looks good so far.  What do I do next? Read the <a href="/docs">API docs</a>.

<h2>Author</h2>

<address>
  <strong>Brian Nesbitt</strong><br>
  <a href="http://nesbot.com">http://nesbot.com</a><br>
  <a href="https://twitter.com/NesbittBrian">https://twitter.com/NesbittBrian</a>
</address>

<h2>Maintainer</h2>

<address>
    <strong>kylekatarnls</strong><br>
    <a href="https://github.com/kylekatarnls">https://github.com/kylekatarnls</a>
</address>

<h2>Contributors</h2>

<a href="https://github.com/briannesbitt/Carbon/graphs/contributors" target="_blank"><img src="https://opencollective.com/Carbon/contributors.svg?width=890&button=false" /></a>

<h2>Translators</h2>

<a href="/contribute/translators/" rel="nofollow">Thanks to people helping us to translate Carbon in so many languages</a>

<h2>Sponsors</h2>

Our sponsors make our engagement stronger and sustain the development and maintenance, a big thank you to them. üôè<br>
Support this project by becoming a sponsor. Your logo will show up here with a link to your website.
<a href="https://opencollective.com/Carbon#sponsor">Become a sponsor</a>

<div style="padding: 8px 16px; margin: 10px 0; border-radius: 2px; background: #d3d3d3">
    <a style="position: relative; margin: 10px; display: inline-block; border: 10px solid #7ac35f; background: white;" title="Get professional support for Carbon" href="https://tidelift.com/subscription/pkg/packagist-nesbot-carbon?utm_source=packagist-nesbot-carbon&amp;utm_medium=referral&amp;utm_campaign=docs" target="_blank" rel="dofollow"><img src="/tidelift-brand.png" width="256" height="64"><span style="position: absolute; top: -15px; right: -15px; text-shadow: 0 0 3px black;">‚≠ê</span></a>
    <span class="open-collective-list open-collective-sponsors">
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid #7ac35f; background: white;" title="Kyle Katarn" href="https://opencollective.com/kyle-katarn?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Kyle Katarn" src="https://www.gravatar.com/avatar/e96db952359d1800f3b1bd129a2fdafa?default=404" width="64" height="64"><span style="position: absolute; top: -15px; right: -15px; text-shadow: 0 0 3px black;">‚≠ê</span></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid #7ac35f; background: white;" title="#1 Guide To Online Gambling In Canada" href="https://casinohex.org/canada/?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="CasinoHex Canada" src="https://opencollective-production.s3.us-west-1.amazonaws.com/79fdbcc0-a997-11eb-abbc-25e48b63c6dc.jpg" width="85" height="64"><span style="position: absolute; top: -15px; right: -15px; text-shadow: 0 0 3px black;">‚≠ê</span></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid #7ac35f; background: white;" title="Casino-portugal.pt" href="https://casino-portugal.pt/?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Casino-portugal.pt" src="https://logo.clearbit.com/casino-portugal.pt" width="64" height="64"><span style="position: absolute; top: -15px; right: -15px; text-shadow: 0 0 3px black;">‚≠ê</span></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid #7ac35f; background: white;" title="Slots City¬Æ ‚û¢ –õ—É—á—à–µ–µ –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω–æ –∫–∞–∑–∏–Ω–æ –æ–Ω–ª–∞–π–Ω –∏ –æ—Ñ—Ñ–ª–∞–π–Ω –Ω–∞ –≥—Ä–∏–≤–Ω—ã –≤ –£–∫—Ä–∞–∏–Ω–µ. „Äê –ë–æ–ª–µ–µ1500 –∏–≥—Ä–æ–≤—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–æ–≤ –∏ —Å–ª–æ—Ç–æ–≤„Äë‚úÖ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –∏ –ë–µ–∑–æ–ø–∞—Å–Ω–æ" href="https://slotscity.ua/?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Slots City" src="https://opencollective-production.s3.us-west-1.amazonaws.com/d7e298c0-7abe-11ed-8553-230872f5e54d.png" width="90" height="64"><span style="position: absolute; top: -15px; right: -15px; text-shadow: 0 0 3px black;">‚≠ê</span></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid #7ac35f; background: white;" title="Znajd≈∫ najlepsze zak≈Çady bukmacherskie w Polsce w 2023 roku. Probukmacher.pl to Twoje kompendium wiedzy na temat bukmacher√≥w!" href="https://www.probukmacher.pl?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Probukmacher" src="https://opencollective-production.s3.us-west-1.amazonaws.com/account-avatar/caf50271-4560-4ffe-a434-ea15239168db/Screenshot_1.png" width="89" height="64"><span style="position: absolute; top: -15px; right: -15px; text-shadow: 0 0 3px black;">‚≠ê</span></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid #7ac35f; background: white;" title="Gives a fun for our users" href="https://slotoking.ua/games/?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="–ò–≥—Ä–æ–≤—ã–µ –∞–≤—Ç–æ–º–∞—Ç—ã" src="https://opencollective-production.s3.us-west-1.amazonaws.com/account-avatar/94601d07-3205-4c60-9c2d-9b8194dbefb7/skg-blue.png" width="64" height="64"><span style="position: absolute; top: -15px; right: -15px; text-shadow: 0 0 3px black;">‚≠ê</span></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid #7ac35f; background: white;" title="inkedin" href="https://inkedin.com?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="inkedin" src="https://logo.clearbit.com/inkedin.com" width="64" height="64"><span style="position: absolute; top: -15px; right: -15px; text-shadow: 0 0 3px black;">‚≠ê</span></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid transparent; background: white;" title="–ê–∫—Ç—É–∞–ª—å–Ω–∏–π —Ç–∞ –ø–æ–≤–Ω–æ—Å–ø—Ä–∞–≤–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ –æ–Ω–ª–∞–π–Ω –∫–∞–∑–∏–Ω–æ –£–∫—Ä–∞—ó–Ω–∏, “ë—Ä—É–Ω—Ç–æ–≤–∞–Ω–∏–π –Ω–∞ –≤—ñ–¥–≥—É–∫–∞—Ö —Ä–µ–∞–ª—å–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤." href="https://uk.onlinecasino.kyiv.ua/?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="–û–Ω–ª–∞–π–Ω –∫–∞–∑–∏–Ω–æ –£–∫—Ä–∞—ó–Ω–∏" src="https://opencollective-production.s3.us-west-1.amazonaws.com/c0b4b090-eef8-11ec-9cb7-0527a205b226.png" width="64" height="64"></a>
    </span>
</div>

<h2>Backers</h2>

Thank you to all our backers! üôè <a href="https://opencollective.com/Carbon#backer">Become a backer</a>

<div style="padding: 8px 16px; margin: 10px 0; border-radius: 2px; background: #d3d3d3">
    <span class="open-collective-list open-collective-backers">
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid transparent; border-radius: 50%; overflow: hidden;" title="jules" href="https://opencollective.com/jules?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="jules" src="https://images.opencollective.com/jules/avatar/256.png" width="64" height="64"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid transparent; border-radius: 50%; overflow: hidden;" title="Chudovo - international software development company with representative offices in Kyiv, Cologne, New York, Tallinn and London. It has been working on the market since 2006. Company has domain expertise in video security, logistics, medicine, finance and" href="https://chudovo.com/?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Chudovo" src="https://opencollective-production.s3.us-west-1.amazonaws.com/326c19a0-2e87-11eb-a13a-c99a2a201d11.png" width="424" height="64"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid transparent; border-radius: 50%; overflow: hidden;" title="Kamol Chalermviriya" href="https://opencollective.com/kamol-chalermviriya?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Kamol Chalermviriya" src="https://www.gravatar.com/avatar/dce2951a9a00d5dde997d51982476fac?default=404" width="64" height="64"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid transparent; border-radius: 50%; overflow: hidden;" title="Anna Filina" href="https://afilina.com?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Anna Filina" src="https://opencollective-production.s3.us-west-1.amazonaws.com/1db71b60-8980-11ea-a8b1-f7f3041d4994.jpg" width="64" height="64"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid transparent; border-radius: 50%; overflow: hidden;" title="Dolphin" href="https://opencollective.com/dolphin1?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Dolphin" src="https://opencollective-production.s3.us-west-1.amazonaws.com/7b53a210-93f2-11ec-be26-7553dc8d2b17.png" width="64" height="64"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid transparent; border-radius: 50%; overflow: hidden;" title="A self-hosted web radio management suite, including turnkey installer tools and an easy-to-use web app to manage your stations. " href="https://azuracast.com?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="AzuraCast" src="https://opencollective-production.s3.us-west-1.amazonaws.com/3c12ea10-cdfb-11eb-9cf4-3760b386b76d.png" width="64" height="64"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid transparent; border-radius: 50%; overflow: hidden;" title="matej_j" href="https://matej.jurancic.com?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="matej_j" src="https://www.gravatar.com/avatar/a145a33757bfa7be46eb0b449485f13c?default=404" width="64" height="64"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid transparent; border-radius: 50%; overflow: hidden;" title="Triplebyte is the first software engineering job platform that is on the developer&#039;s side. Take our coding quiz!" href="https://triplebyte.com/os/opencollective?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Triplebyte" src="https://opencollective-production.s3.us-west-1.amazonaws.com/43e4f9d0-30cd-11ea-9c6b-e1142996e8b2.png" width="64" height="64"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid transparent; border-radius: 50%; overflow: hidden;" title="Triplebyte is the first software engineering job platform that is on the developer&#039;s side. Take our coding quiz!" href="https://triplebyte.com/os/opencollective?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Triplebyte" src="https://opencollective-production.s3.us-west-1.amazonaws.com/43e4f9d0-30cd-11ea-9c6b-e1142996e8b2.png" width="64" height="64"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 8px solid transparent; border-radius: 50%; overflow: hidden;" title="Runxi Ding" href="https://opencollective.com/runxi-ding?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Runxi Ding" src="https://images.opencollective.com/runxi-ding/avatar/256.png" width="64" height="64"></a>
    </span>
    <br />
    <span class="open-collective-list open-collective-helpers">
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="People Search" href="https://identor.com/?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="People Search" src="https://opencollective-production.s3.us-west-1.amazonaws.com/account-avatar/1390e8dd-8742-49dd-b23b-2f2bca11cf51/identor-white-250-250-1.png" width="32" height="32"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="Connect your Collective to GitHub Sponsors: https://docs.opencollective.com/help/collectives/github-sponsors" href="https://github.com/sponsors/?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="GitHub Sponsors" src="https://opencollective-production.s3.us-west-1.amazonaws.com/87b1d240-f617-11ea-9960-fd7e8ab20fe4.png" width="36" height="32"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="Mike Healy" href="https://opencollective.com/mike-healy1?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Mike Healy" src="https://images.opencollective.com/mike-healy1/avatar/256.png" width="32" height="32"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="Real Targeted Traffic" href="https://www.seo25.com/?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Real Targeted Traffic" src="https://logo.clearbit.com/seo25.com" width="32" height="32"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="TargetedVisitors" href="https://www.targetedwebtraffic.com/?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="TargetedVisitors" src="https://opencollective-production.s3.us-west-1.amazonaws.com/80325590-380f-11ec-9460-9b81799a208f.png" width="32" height="32"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="Collins Agbonghama" href="https://opencollective.com/collins-agbonghama?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Collins Agbonghama" src="https://www.gravatar.com/avatar/75eb5abf4f342e434c23fb0216631d3e?default=404" width="32" height="32"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="BB Creative Solutions" href="https://opencollective.com/bb-creative-solutions?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="BB Creative Solutions" src="https://images.opencollective.com/bb-creative-solutions/avatar/256.png" width="32" height="32"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="Roberto Guido" href="https://www.madbob.org/?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Roberto Guido" src="https://www.gravatar.com/avatar/3d2b05e0cb8dac9f22072a3e40b6483b?default=404" width="32" height="32"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="Bishop Bettini" href="https://opencollective.com/bishop-bettini?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Bishop Bettini" src="https://images.opencollective.com/bishop-bettini/avatar/256.png" width="32" height="32"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="Alberto Fortin" href="https://opencollective.com/guest-e9c3a9c8?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Alberto Fortin" src="https://images.opencollective.com/guest-e9c3a9c8/avatar/256.png" width="32" height="32"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="Markus" href="https://opencollective.com/mfn?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Markus" src="https://images.opencollective.com/mfn/avatar/256.png" width="32" height="32"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="Osvalds Ozolnieks" href="https://opencollective.com/osvalds-ozolnieks?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Osvalds Ozolnieks" src="https://opencollective-production.s3.us-west-1.amazonaws.com/95899ee0-af20-11ea-a6e4-1d65f70684b9.jpg" width="32" height="32"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="Philipp" href="https://opencollective.com/philipp1?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Philipp" src="https://images.opencollective.com/philipp1/avatar/256.png" width="32" height="32"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="Salesforce" href="https://engineering.salesforce.com?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Salesforce" src="https://opencollective-production.s3.us-west-1.amazonaws.com/24d34880-df8d-11e9-949c-6bc2037b6bd5.png" width="32" height="32"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="Guest" href="https://opencollective.com/guest-f0a49745?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Guest" src="https://images.opencollective.com/guest-f0a49745/avatar/256.png" width="32" height="32"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="Mike Healy" href="https://opencollective.com/guest-80664a11?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="Mike Healy" src="https://images.opencollective.com/guest-80664a11/avatar/256.png" width="32" height="32"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="–ï–≤–≥–µ–Ω–∏—è" href="https://opencollective.com/guest-60046d79?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="–ï–≤–≥–µ–Ω–∏—è" src="https://images.opencollective.com/guest-60046d79/avatar/256.png" width="32" height="32"></a>
        <a style="position: relative; margin: 10px; display: inline-block; border: 4px solid transparent; border-radius: 50%; overflow: hidden;" title="AzuraCast" href="https://azuracast.com/?utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon" target="_blank" rel="sponsored"><img alt="AzuraCast" src="https://logo.clearbit.com/azuracast.com" width="32" height="32"></a>
    </span>
</div>

<h2>License</h2>
<p>Carbon is licensed under the MIT License - see the <code>LICENSE</code> file for details.</p>

<h2>Why the name Carbon?</h2>
<p>Read about <a href="http://en.wikipedia.org/wiki/Radiocarbon_dating">Carbon Dating</a>.</p>

                    </div>

                </div>
            </div>
        </section>
    </div>

    <footer>
        <div class="help-translate">
            <a href="#" class="close" data-session-close="footer .help-translate">‚úñ</a>
            Do you speak <strong>#{language}</strong>? You can help Carbon to
            <a href="/contribute/translate/">improve its translations</a>!<br>
            No coding skills needed, <a href="/contribute/translate/">go to translation tool</a>.
        </div>
        <div class="available-slot container">
            <a href="#" class="close" data-session-close="footer .available-slot">‚úñ</a>
            <div data-ea-publisher="carbon" data-ea-type="text"></div>
        </div>
    </footer>

    <script async src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <script>

        var liveEditorHosts = [
            'https://play.phpsandbox.io/embed/nesbot/carbon'
        ];
        var sessStorage = window.sessionStorage || {};
        var storage = window.localStorage || {};
        var balancingId = storage.balancingId || (storage.balancingId = Math.floor(Math.random() * 1024));
        var liveEditorHostIndex = balancingId % liveEditorHosts.length;
        var liveEditorHost = liveEditorHosts[liveEditorHostIndex];
        var callbacks = {};
        var $document = $(document);
        var editorAutoLoad = false;
        var failures = 0;

        function failOver(index) {
            if (index !== liveEditorHostIndex || ++failures >= liveEditorHosts.length) {
                return;
            }

            liveEditorHostIndex++;
            liveEditorHost = liveEditorHosts[liveEditorHostIndex % liveEditorHosts.length];

            var timeout = setTimeout(function () {
                failOver(hostIndex);
            }, 10000);

            $('[data-href-params]').each(function () {
                var $link = $(this);
                $link.prop('href', liveEditorHost + $link.data('href-params'));
            });

            $('[data-src-params]').each(function () {
                var $iframe = $(this);
                $iframe.prop('src', liveEditorHost + $iframe.data('src-params')).data('timeout', timeout);
            });
        }

        function transformEditor($pre, index, code, token, link, params) {
            if (!$pre.hasClass('live-editor') || $pre.hasClass('live-editor-loading')) {
                return;
            }

            $pre.removeClass('live-editor').addClass('live-editor-loading');

            if (!code) {
                code = $pre.find('code').text();
                token = 'live-editor-' + index;
                params = '?input='
                    + encodeURIComponent(code)
                    ; // + '&hide-output-gutter&output-left-padding=10&theme=tomorrow_night&border=none&radius=4&v-padding=15&token=' + token;
                link = liveEditorHost + params;

                if (!$('.link-' + token).length) {
                    $('<a class="live-editor-new-window link-' + token + '" href="' + link + '" data-href-params="' + params + '" target="_blank"><i class="glyphicon glyphicon-new-window"></i></a>').insertBefore($pre);
                }
            }

            var timeout = setTimeout(function () {
                failOver(hostIndex);
            }, 10000);
            var hostIndex = liveEditorHostIndex;
            var $iframe = $('<iframe src="' + link +
                '&embed" data-src-params="' + params +
                '&embed" data-timeout="' + timeout +
                '" onerror="failOver(' + hostIndex + ')" style="width: 100%; border: none; opacity: 0; pointer-events: none; position: absolute;"></iframe>').insertAfter($pre);

            $iframe.css({
                opacity: 1,
                pointerEvents: 'all',
                position: '',
                height: $pre.outerHeight() + 'px'
            });
            $pre.hide();
            // (callbacks[token] || (callbacks[token] = {})).ready = function () {
            //     clearTimeout($iframe.data('timeout'));
            //
            //     $iframe.css({
            //         opacity: 1,
            //         pointerEvents: 'all',
            //         position: '',
            //         height: $pre.outerHeight() + 'px'
            //     });
            //     $pre.hide();
            // };
        }

        var scrollCheckDebounce = null;

        function scrollCheck() {
            if (scrollCheckDebounce) {
                clearTimeout(scrollCheckDebounce);
            }

            scrollCheckDebounce = setTimeout(function () {
                $('.live-editor').each(function (index) {
                    var $pre = $(this);
                    if (!editorAutoLoad) {
                        var code = $pre.find('code').text();
                        var token = 'live-editor-' + index;
                        var params = '?hide-output-gutter&output-left-padding=10&theme=tomorrow_night&border=none&radius=4&v-padding=15&input=' +
                            encodeURIComponent(code) +
                            '&token=' + token;
                        var link = liveEditorHost + params;
                        $pre.css('cursor', 'pointer').click(function () {
                            transformEditor($pre, index, code, token, link, params);
                        });

                        if (!$('.link-' + token).length) {
                            $('<a class="live-editor-new-window link-' + token + '" href="' + link + '" target="_blank"><i class="glyphicon glyphicon-new-window"></i></a>').insertBefore($pre);
                        }

                        return;
                    }

                    var scrollTop = $document.scrollTop();
                    var scrollBottom = scrollTop + $(window).height();
                    var viewMargin = 400;
                    var top = $pre.offset().top;
                    if (top + $pre.outerHeight() + viewMargin > scrollTop && top - viewMargin < scrollBottom) {
                        transformEditor($pre, index);
                    }
                });
            }, 1000);
        }

        function openDocPanel(className, selection) {
            $('#search-filter').val('');
            refreshDoc();
            $('.main-wrapper').addClass('open');
            $('#doc-method-' + className + '-' + selection)[0].scrollIntoView();
        }

        function openDoc(event, selection, token) {
            selection = $.trim(selection);
            if (/^[a-zA-Z0-9_-]+$/.test(selection)) {
                var options = [];

                $.each(['Carbon', 'CarbonInterval', 'CarbonPeriod'], function (index, className) {
                    var element = $('#doc-method-' + className + '-' + selection)[0];
                    if (element) {
                        options.push([className, selection, element]);
                    }
                });

                $('#open-doc-menu').remove();
                var $menu = $('.modal-menu');

                if ($menu.length === 0) {
                    $menu = $('<div class="modal-menu">').appendTo('body');
                }

                $(document).one('click', function () {
                    $menu.remove();
                });

                var pageX = event.pageX | 0;
                var pageY = event.pageY | 0;

                if (typeof event.pageX === 'undefined') {
                    var $currentEditor = $('iframe[src*="' + token + '"]');
                    pageX = $currentEditor.offset().left;
                    pageY = $currentEditor.offset().top;
                }

                var modalHeight = options.length * 26 + 10;
                var scrollTop = $document.scrollTop();

                $menu.css({
                    left: pageX + 'px',
                    top: Math.max(scrollTop, pageY - modalHeight) + 'px'
                }).html(options.map(function (option) {
                    return '<div class="modal-menu-item" onclick="openDocPanel(\'' + option[0] + '\', \'' + option[1] + '\')">' + option[0] + '::<strong>' + option[1] + '</strong></div>';
                }).join(''));
            }
        }

        var $search = $('#main-search-bar');

        if ($search.length) {
            function search(word) {
                var list = $('#docs *, #reference *').filter(function (index, element) {
                    return $(element).find('script').length === 0 && (new RegExp(word, 'i')).test(element.innerText);
                });

                var copy = list.slice();

                copy.each(function (index, element) {
                    list = list.filter(function (i, e) {
                        return e !== element.parentNode;
                    });
                });

                var result = [];

                list.each(function (i, e) {
                    while (e.parentNode && ~['inline', 'table-cell'].indexOf(window.getComputedStyle(e).display)) {
                        e = e.parentNode;
                    }

                    if (e !== result[result.length - 1]) {
                        result.push(e);
                    }
                });

                return result;
            }

            var searchValue = $search.val().trim();
            var timeout = null;

            $search.on('change input keyup keypress', function () {
                var newValue = $search.val().trim();

                if (newValue.length === 0) {
                    if (timeout) {
                        clearTimeout(timeout);
                    }

                    $('#search-result').hide();
                    $('#docs').removeClass('height-squeezed');

                    return;
                }

                $('#docs').addClass('height-squeezed');

                if (newValue.length < 2) {
                    if (timeout) {
                        clearTimeout(timeout);
                    }

                    $('#search-result').show().html('<p>Type at least 2 letters to start the search.</p>');

                    return;
                }

                if (searchValue !== newValue) {
                    if (timeout) {
                        clearTimeout(timeout);
                    }

                    searchValue = newValue;

                    $('#search-result').show().html('<p>Searching...</p>');

                    timeout = setTimeout(function () {
                        timeout = null;
                        var result = search(searchValue);

                        if (result.length === 0) {
                            $('#search-result').html('<p>No matches found.</p>');

                            return;
                        }

                        window.goToSearchResult = function (index) {
                            if (result[index]) {
                                var $element = $(result[index]);

                                if ($element.length) {
                                    if ($element.parents('#reference').length) {
                                        $('.main-wrapper').addClass('open');
                                    }

                                    $('#search-result').hide();
                                    $('#docs').removeClass('height-squeezed');
                                    $search.val('');

                                    setTimeout(function () {
                                        $element[0].scrollIntoView();
                                    }, 1);
                                }
                            }
                        };

                        var html = '';

                        result.slice(0, 50).forEach(function (element, index) {
                            var $element = $(element);

                            html += $('<div>').append($('<' + ($element.is('code') ? 'pre' : 'p') + ' class="search-result-item" onclick="goToSearchResult(' + index + ');">').text($element.text())).html().replace(new RegExp(searchValue, 'i'), function (word) {
                                return '<span class="highlight">' + word + '</span>';
                            });
                        });

                        $('#search-result').html(html + (result.length > 50 ? '<p>' + (result.length - 50) + ' results omitted, type more to filter results.</p>' : ''));
                    }, 500);
                }
            });
        }

        var locale = navigator.language || navigator.userLanguage || '';

        $(document)
            .on('click', 'a[data-open-doc]', function (event) {
                event.preventDefault();
                event.stopPropagation();

                var method = $(event.target).data('open-doc').split('::');

                openDocPanel(method[0], method[1]);
            })
            .on('click', '[data-slide-down]', function (event) {
                event.preventDefault();
                event.stopPropagation();

                $($(event.target).data('slide-down')).slideToggle();
            })
            .on('click', '[data-toggle]', function (event) {
                event.preventDefault();
                event.stopPropagation();

                $($(event.target).data('toggle')).toggle();
            })
            .on('click', '[data-session-close]', function (event) {
                event.preventDefault();
                event.stopPropagation();
                var key = $(event.target).data('session-close');
                sessStorage['closed-' + key] = '1';

                $(key).slideUp(200);
            })
        ;

        var $anchor = location.hash && $('[data-toggle="' + location.hash + '"]');

        if ($anchor && $anchor.length) {
            $anchor.click()[0].scrollIntoView();
        }

        var language = (locale.split(/[_-]/)[0] || '').toLowerCase();

        if (!sessStorage['closed-footer .help-translate'] &&
            location.href.indexOf('contribute/translate') === -1 &&
            [
                'af', 'smn', 'si', 'sk', 'sl', 'id', 'ia', 'hy', 'hu', 'ja', 'sn', 'haw',
                'en', 'fr', 'it', 'es', 'pt', 'de', 'ro', 'ru', 'vi', 'ar', 'da', 'nl',
                'cs', 'ka', 'hr', 'gl', 'bg', 'tr', 'sq', 'sr', 'fo', 'fi', 'sv', 'bs',
                'eu', 'or', 'mzn', 'mt', 'ms', 'mk', 'mgo', 'om', 'lt', 'lb', 'kea', 'pl',
                'am', 'ko', 'rm', 'rw', 'fa', 'et', 'uz', 'ur', 'az', 'ca', 'sw', 'vai',
                'yue', 'zh', 'chr', 'nb', 'ee', 'ug', 'el', 'cy', 'to', 'eo'
            ].indexOf(language) === -1
        ) {
            $.getJSON('/languages.json', function (languages) {
                var $help = $('footer .help-translate');
                $help.html($help.html().replace('#{language}', (languages[language] || {}).isoName || language)).show();
            });
        }

        function refreshDoc() {
            var search = $('#search-filter').val().toLowerCase();
            $('.doc-method').each(function () {
                var $method = $(this);
                $method[~$method.find('h2:first').text().toLowerCase().indexOf(search) ? 'show' : 'hide']();
            });
        }

        $('#search-filter').on('keyup change input', refreshDoc);

        window.addEventListener('message', function (event) {
            var data = event.data;
            if (typeof data === 'string') {
                try {
                    data = JSON.parse(data);
                } catch (e) {
                    data = null;
                }
            }
            if (data && data.sender === 'try-carbon') {
                switch (data.event) {
                    case 'ready':
                        var callback = (callbacks[data.token] || {})[data.event];
                        if (typeof callback === 'function') {
                            callback();
                        }
                        break;
                    case 'input':
                        // data.input
                        break;
                    case 'selection':
                        openDoc(event, data.selection, data.token);
                        break;
                }
            }
        });

        scrollCheck();
        $document.scroll(scrollCheck);
        $('.search').scroll(scrollCheck);

        $('.search-wrapper .close').click(function () {
            $('.main-wrapper').removeClass('open');
        });

        $('code').on('mouseup select dblclick', function (event) {
            var s = window.getSelection();
            if ((s.anchorOffset || s.anchorOffset === 0) && s.focusOffset && s.anchorOffset + 1 < s.focusOffset) {
                openDoc(event, s.anchorNode.wholeText.substring(s.anchorOffset, s.focusOffset));
            }
        });

        $('[href="#reference"]').click(function (event) {
            event.preventDefault();
            if ($('.main-wrapper').toggleClass('open').hasClass('open')) {
                $('#search-filter').focus();
            }
        });

        function objEach(obj, callback) {
            var keys = Object.keys(obj);
            for (var i = 0; i< keys.length; i++) {
                callback(keys[i], obj[keys[i]]);
            }
        }

        function reserveEach(obj, callback) {
            var keys = Object.keys(obj);
            for (var i = keys.length - 1; i >= 0; i--) {
                callback(keys[i], obj[keys[i]]);
            }
        }

        $(function () {
            var country = locale.toLowerCase().replace(/^[a-z]+[_-]/, '');

            if (country) {
                $('.' + country + '-country-only').show();
            }

            $('footer').css(
                'padding-right',
                (document.body.offsetWidth - (document.body.scrollWidth || document.body.clientWidth) + 'px')
            );

            $.ajax('/reference/', {
                success: function (data) {
                    $('.search').html(data).find('.live-editor code').each(function (index, block) {
                        hljs.highlightBlock(block);
                    });
                },
            });
            $('.history-slot').each(function () {
                var $slot = $(this);
                var primaryList = {};
                var releases = {};

                function processHistory(data) {
                    $.each(data, function () {
                        primaryList[this.created_at] = this;
                    });
                }

                $.getJSON('/releases.json').then(function (data) {
                    processHistory(data);

                    return $.getJSON('https://api.github.com/repos/briannesbitt/Carbon/releases');
                }).then(function (data) {
                    processHistory(data);

                    Object.keys(primaryList).sort().reverse().forEach(function (key) {
                        var item = primaryList[key];
                        var name = item.tag_name;
                        if (/^\d+\.\d+\.\d/.test(name)) {
                            var major = name.replace(/^(\d+)\..*$/, '$1');
                            var minor = name.replace(/^(\d+\.\d+)\..*$/, '$1');
                            var list = releases[major] || (releases[major] = {});
                            var subList = list[minor] || (list[minor] = {});
                            subList[name] = item;
                        }
                    });

                    var html = '';
                    reserveEach(releases, function (major, list) {
                        html += '<h1 class="history-major-title"><a href="#" data-history-major="' + major + '">Carbon ' + major + '</a></h1><div class="history-major-group history-major-' + major + ' hidden">';
                        objEach(list, function (minor, subList) {
                            html += '<h2 class="history-minor-title">' + minor + '.*</h2><div class="history-minor-group">';
                            objEach(subList, function (version, release) {
                                if (release.assets && release.assets.length) {
                                    release.asset_url = release.assets[0].browser_download_url;
                                }
                                html +=
                                    '<h3>' +
                                        version + '' +
                                        '<small class="release-date" title="' + (new Date(release.created_at)).toLocaleTimeString() + '">' + (new Date(release.created_at)).toLocaleDateString() + '</small>' +
                                        (release.asset_url
                                            ? '<a href="' + release.asset_url + '" class="btn btn-default download-release"><i class="glyphicon glyphicon-save"></i> Download</a>'
                                            : ''
                                        ) +
                                    '</h3>' +
                                    '<div class="version-description">' + ('\n' + release.body).replace(/(\n- [^\n]*)+/g, function (all) {
                                        return '<ul>' + all.replace(/\n- ([^\n]*)/g, '<li>$1</li>') + '</ul>';
                                    }).replace(/^\s+/, '').replace(/\s+$/, '').replace(/\n/g, '<br>').replace(/(https?:\/\/\S+)/g, '<a href="$1" target="_blank">$1</a>') + '</div>'
                                ;
                            });
                            html += '</div>';
                        });
                        html += '</div>';
                    });
                    $slot.html(html).find('.history-major-group').hide().removeClass('hidden');
                });
            });

            $(document).on('click', '[data-history-major]', function (event) {
                $('.history-major-' + $(this).data('history-major')).slideToggle();
                event.preventDefault();
                event.stopPropagation();
            });

            function isLaterInTheMonth(a, b) {
                var diff = (a.getDate() - b.getDate())
                    || (a.getHours() - b.getHours())
                    || (a.getMinutes() - b.getMinutes())
                    || (a.getSeconds() - b.getSeconds())
                    || (a.getMilliseconds() - b.getMilliseconds());

                return diff > 0;
            }

            if ($('.open-collective-list').length) {
                $.getJSON('https://opencollective.com/carbon/members/all.json', function (members) {
                    members.forEach(function (member) {
                        var createdAt = new Date(member.createdAt);
                        var lastTransactionAt = new Date(member.lastTransactionAt);

                        if (isLaterInTheMonth(createdAt, lastTransactionAt)) {
                            createdAt.setDate(lastTransactionAt.getDate());
                            createdAt.setHours(lastTransactionAt.getHours());
                            createdAt.setMinutes(lastTransactionAt.getMinutes());
                            createdAt.setSeconds(lastTransactionAt.getSeconds());
                            createdAt.setMilliseconds(lastTransactionAt.getMilliseconds());
                        }

                        var now = new Date();
                        var currentMonth = now.getMonth();
                        var monthDiff = (now.getFullYear() * 12 + currentMonth) - (createdAt.getFullYear() * 12 + createdAt.getMonth());

                        if (now.getDate() < createdAt.getDate()) {
                            monthDiff--;
                        }

                        var monthlyContribution = member.totalAmountDonated / (1 + monthDiff);
                        var lastMonth = new Date(now.getTime());
                        lastMonth.setMonth(currentMonth);

                        // Overflow
                        while (lastMonth.getMonth() === currentMonth) {
                            lastMonth.setDate(lastMonth.getDate() - 1);
                        }


                        if (lastTransactionAt.getTime() > lastMonth.getTime() &&
                            member.lastTransactionAmount > monthlyContribution
                        ) {
                            monthlyContribution = member.lastTransactionAmount;
                        }

                        var yearDiff = now.getFullYear() - createdAt.getFullYear();

                        if (currentMonth * 31 + now.getDate() < createdAt.getMonth() * 31 + createdAt.getDate()) {
                            yearDiff--;
                        }

                        var yearlyContribution = member.totalAmountDonated / Math.max(1, yearDiff);
                        var status = null;

                        if (monthlyContribution > 29) {
                            status = 'sponsor';
                        } else if (monthlyContribution > 4 || yearlyContribution > 40) {
                            status = 'backer';
                        } else if (member.totalAmountDonated > 0) {
                            status = 'helper';
                        }

                        Object.assign(member, {
                            star: (monthlyContribution > 98 || yearlyContribution > 700),
                            status: status,
                            monthlyContribution: monthlyContribution,
                            yearlyContribution: yearlyContribution
                        });
                    });

                    members.sort(function (a, b) {
                        if (a.monthlyContribution === b.monthlyContribution) {
                            return b.totalAmountDonated - a.totalAmountDonated;
                        }

                        return b.monthlyContribution - a.monthlyContribution;
                    });

                    ['sponsor', 'backer', 'helper'].forEach(function (status) {
                        $('.open-collective-' + status + 's').html(
                            members
                                .filter(function (member) {
                                    return member.status === status;
                                })
                                .map(function (member) {
                                    var href = $('<div>').text(member.website || member.profile).html();
                                    var src = $('<div>').text(member.image || member.profile.replace('https://opencollective.com/', 'https://images.opencollective.com/') + '/avatar/256.png').html();
                                    var size = member.status === 'helper' ? 32 : 64;
                                    href += (href.indexOf('?') === -1 ? '?' : '&amp;') + 'utm_source=opencollective&amp;utm_medium=github&amp;utm_campaign=Carbon';
                                    var title = $('<div>').text(member.description || member.name).html();
                                    var alt = $('<div>').text(member.name).html();
                                    var sponsor = (status === 'sponsor');

                                    return '<a style="position: relative; margin: 10px; display: inline-block; border: ' + (size / 8) + 'px solid ' + (member.star ? '#7ac35f' : (sponsor ? '#e3e3e3' : 'transparent')) + ';' + (sponsor ? ' background: white;' : ' border-radius: 50%; overflow: hidden;') + '" title="' + title + '" href="' + href + '" target="_blank" rel="sponsored">' +
                                        '<img' + (sponsor ? ' onload="adjustImageSize(this)"' : '') + ' onerror="fallbackImage(this)" alt="' + alt + '" src="' + src + '" width="' + size + '" height="' + size + '">' +
                                        (member.star ? '<span style="position: absolute; top: -15px; right: -15px; text-shadow: 0 0 3px black;">‚≠ê</span>' : '') +
                                        '</a>';
                                })
                                .join('')
                        );
                    });
                });
            }
        });

        function adjustImageSize(element) {
            var img = new Image();
            img.onload = function () {
                if (img.width && img.height) {
                    element.width = Math.round(img.width * element.height / img.height);
                }
            };
            img.src = element.src;
        }

        function fallbackImage(element) {
            element.src = 'https://opencollective.com/static/images/default-guest-logo.svg';
        }

    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script type="text/javascript">
        var _paq = _paq || [];
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
            var u="//piwik.selfbuild.fr/";
            _paq.push(['setTrackerUrl', u+'piwik.php']);
            _paq.push(['setSiteId', '23']);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
            g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
        })();
    </script>

</body>
</html>
